{
  "_format": "hh-sol-artifact-1",
  "contractName": "MockOpenLev",
  "sourceName": "contracts/mocks/MockOpenLev.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "contract DexAggregatorInterface",
          "name": "_dexAgg",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "trader",
          "type": "address"
        },
        {
          "internalType": "uint16",
          "name": "_marketId",
          "type": "uint16"
        },
        {
          "internalType": "bool",
          "name": "longToken",
          "type": "bool"
        }
      ],
      "name": "activeTrades",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "deposited",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "held",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "depositToken",
              "type": "bool"
            },
            {
              "internalType": "uint128",
              "name": "lastBlockNum",
              "type": "uint128"
            },
            {
              "internalType": "uint256",
              "name": "heldRelativeBorrowed",
              "type": "uint256"
            }
          ],
          "internalType": "struct OpenLevInterface.Trade",
          "name": "trade",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "trader",
          "type": "address"
        },
        {
          "internalType": "uint16",
          "name": "_marketId",
          "type": "uint16"
        },
        {
          "internalType": "bool",
          "name": "longToken",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "closeHeld",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "minOrMaxAmount",
          "type": "uint256"
        },
        {
          "internalType": "bytes",
          "name": "dexData",
          "type": "bytes"
        }
      ],
      "name": "closeTradeFor",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "token0",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "token1",
          "type": "address"
        }
      ],
      "name": "createMarket",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "depositReturn",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "dexAgg",
      "outputs": [
        {
          "internalType": "contract DexAggregatorInterface",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "trader",
          "type": "address"
        },
        {
          "components": [
            {
              "internalType": "uint16",
              "name": "marketId",
              "type": "uint16"
            },
            {
              "internalType": "bool",
              "name": "longToken",
              "type": "bool"
            },
            {
              "internalType": "bool",
              "name": "depositToken",
              "type": "bool"
            },
            {
              "internalType": "uint256",
              "name": "deposit",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "borrow",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "minBuyAmount",
              "type": "uint256"
            }
          ],
          "internalType": "struct OpenLevInterface.MarginTradeVars",
          "name": "tradeVars",
          "type": "tuple"
        },
        {
          "internalType": "bytes",
          "name": "dexData",
          "type": "bytes"
        }
      ],
      "name": "marginTradeFor",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "marketId",
      "outputs": [
        {
          "internalType": "uint16",
          "name": "",
          "type": "uint16"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint16",
          "name": "_marketId",
          "type": "uint16"
        }
      ],
      "name": "markets",
      "outputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "pool0",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "pool1",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "token0",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "token1",
              "type": "address"
            },
            {
              "internalType": "uint16",
              "name": "marginLimit",
              "type": "uint16"
            },
            {
              "internalType": "uint16",
              "name": "feesRate",
              "type": "uint16"
            },
            {
              "internalType": "uint16",
              "name": "priceDiffientRatio",
              "type": "uint16"
            },
            {
              "internalType": "address",
              "name": "priceUpdater",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "pool0Insurance",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "pool1Insurance",
              "type": "uint256"
            }
          ],
          "internalType": "struct OpenLevInterface.Market",
          "name": "market",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "newHeld",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_depositReturn",
          "type": "uint256"
        }
      ],
      "name": "setDepositReturn",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_newHeld",
          "type": "uint256"
        }
      ],
      "name": "setNewHeld",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint16",
          "name": "_marketId",
          "type": "uint16"
        },
        {
          "internalType": "bytes",
          "name": "dexData",
          "type": "bytes"
        }
      ],
      "name": "updatePrice",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b506040516110d73803806110d783398101604081905261002f91610054565b600480546001600160a01b0319166001600160a01b0392909216919091179055610084565b60006020828403121561006657600080fd5b81516001600160a01b038116811461007d57600080fd5b9392505050565b611044806100936000396000f3fe6080604052600436106100a75760003560e01c80636ed71ede116100645780636ed71ede146102d95780637afae395146103075780637c38d0ad1461031d57806390e9097a1461033d57806391a247e21461035d578063abbb0c3c1461037357600080fd5b8063060d8397146100ac578063207fd126146100e9578063284f43021461010b5780633723b7a31461022b578063437e55401461024c5780636c3fbc341461026c575b600080fd5b3480156100b857600080fd5b506004546100cc906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b3480156100f557600080fd5b50610109610104366004610b33565b610393565b005b34801561011757600080fd5b5061021e610126366004610b78565b6040805161014081018252600080825260208201819052918101829052606081018290526080810182905260a0810182905260c0810182905260e0810182905261010081018290526101208101919091525061ffff90811660009081526001602081815260409283902083516101408101855281546001600160a01b03908116825293820154841692810192909252600281015483169382019390935260038301548083166060830152600160a01b810485166080830152600160b01b8104851660a0830152600160c01b900490931660c084015260048201541660e083015260058101546101008301526006015461012082015290565b6040516100e09190610b9a565b61023e610239366004610d54565b6104f3565b6040519081526020016100e0565b34801561025857600080fd5b5061023e610267366004610e19565b6106ee565b34801561027857600080fd5b5061028c610287366004610e9c565b610919565b6040516100e09190600060a08201905082518252602083015160208301526040830151151560408301526001600160801b0360608401511660608301526080830151608083015292915050565b3480156102e557600080fd5b506000546102f49061ffff1681565b60405161ffff90911681526020016100e0565b34801561031357600080fd5b5061023e60035481565b34801561032957600080fd5b50610109610338366004610ee3565b600355565b34801561034957600080fd5b50610109610358366004610efc565b6109d8565b34801561036957600080fd5b5061023e60025481565b34801561037f57600080fd5b5061010961038e366004610ee3565b600255565b6040805161014081018252600080825260208083018281526001600160a01b03878116858701908152878216606087019081526080870186815260a0880187815260c0890188815260e08a018981526101008b018a81526101208c018b81528b5461ffff9081168d5260019b8c90529d8c209c518d54908a166001600160a01b0319918216178e5599519a8d0180549b8a169b8b169b909b17909a55955160028c018054918916918a16919091179055935160038b0180549451935192518d16600160c01b0261ffff60c01b19938e16600160b01b029390931663ffffffff60b01b19948e16600160a01b026001600160b01b0319909616928916929092179490941792909216919091171790555160048701805491909316931692909217905551600584015551600690920191909155805490911690806104d483610f60565b91906101000a81548161ffff021916908361ffff160217905550505050565b60408201516000901561059a57825161ffff166000908152600160205260409081902060030154606085015191516323b872dd60e01b815233600482015230602482015260448101929092526001600160a01b0316906323b872dd906064016020604051808303816000875af1158015610571573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105959190610f81565b61062f565b825161ffff166000908152600160205260409081902060020154606085015191516323b872dd60e01b815233600482015230602482015260448101929092526001600160a01b0316906323b872dd906064016020604051808303816000875af115801561060b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061062f9190610f81565b506001600160a01b0384166000908152600560209081526040808320865161ffff16845282528083208683015115158452909152812060025460018201805492939192909190610680908490610f9e565b9091555050604084015160028201805460ff19169115159190911790556060840151815482906000906106b4908490610f9e565b90915550506002908101805470ffffffffffffffffffffffffffffffff001916610100436001600160801b03160217905554949350505050565b6001600160a01b038616600090815260056020908152604080832061ffff89168452825280832087151584529091528120600281015460ff16156107c15761ffff8716600090815260016020526040908190206003908101549054915163a9059cbb60e01b81526001600160a01b038b81166004830152602482019390935291169063a9059cbb906044016020604051808303816000875af1158015610798573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107bc9190610f81565b610850565b61ffff87166000908152600160205260409081902060020154600354915163a9059cbb60e01b81526001600160a01b038b81166004830152602482019390935291169063a9059cbb906044016020604051808303816000875af115801561082c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108509190610f81565b50848160010154036108bc576001600160a01b038816600090815260056020908152604080832061ffff8b1684528252808320891515845290915281208181556001810182905560028101805470ffffffffffffffffffffffffffffffffff191690556003015561090a565b848160010160008282546108d09190610fb6565b9091555050600181015481546108e7908790610fcd565b6108f19190610fec565b8160000160008282546109049190610fb6565b90915550505b50506003549695505050505050565b6109566040518060a00160405280600081526020016000815260200160001515815260200160006001600160801b03168152602001600081525090565b506001600160a01b0392909216600090815260056020908152604080832061ffff9490941683529281528282209315158252928352819020815160a08101835281548152600182015493810193909352600281015460ff81161515928401929092526101009091046001600160801b0316606083015260030154608082015290565b61ffff828116600090815260016020818152604080842081516101408101835281546001600160a01b0390811682528286015481169482019490945260028201548416818401819052600383015480861660608401819052600160a01b82048a16608080860191909152600160b01b83048b1660a0860152600160c01b90920490991660c0840152600480850154871660e08501526005850154610100850152600690940154610120840152835494516315426c9760e01b8152938401919091526024830197909752603c60448301526064820196909652608481019390935260a483019390935291909116906315426c979060c4016020604051808303816000875af1158015610aed573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610b119190610f81565b50505050565b80356001600160a01b0381168114610b2e57600080fd5b919050565b60008060408385031215610b4657600080fd5b610b4f83610b17565b9150610b5d60208401610b17565b90509250929050565b803561ffff81168114610b2e57600080fd5b600060208284031215610b8a57600080fd5b610b9382610b66565b9392505050565b81516001600160a01b0316815261014081016020830151610bc660208401826001600160a01b03169052565b506040830151610be160408401826001600160a01b03169052565b506060830151610bfc60608401826001600160a01b03169052565b506080830151610c12608084018261ffff169052565b5060a0830151610c2860a084018261ffff169052565b5060c0830151610c3e60c084018261ffff169052565b5060e0830151610c5960e08401826001600160a01b03169052565b50610100838101519083015261012092830151929091019190915290565b634e487b7160e01b600052604160045260246000fd5b60405160c0810167ffffffffffffffff81118282101715610cb057610cb0610c77565b60405290565b8015158114610cc457600080fd5b50565b600082601f830112610cd857600080fd5b813567ffffffffffffffff80821115610cf357610cf3610c77565b604051601f8301601f19908116603f01168101908282118183101715610d1b57610d1b610c77565b81604052838152866020858801011115610d3457600080fd5b836020870160208301376000602085830101528094505050505092915050565b6000806000838503610100811215610d6b57600080fd5b610d7485610b17565b935060c0601f1982011215610d8857600080fd5b50610d91610c8d565b610d9d60208601610b66565b81526040850135610dad81610cb6565b60208201526060850135610dc081610cb6565b806040830152506080850135606082015260a0850135608082015260c085013560a08201528092505060e084013567ffffffffffffffff811115610e0357600080fd5b610e0f86828701610cc7565b9150509250925092565b60008060008060008060c08789031215610e3257600080fd5b610e3b87610b17565b9550610e4960208801610b66565b94506040870135610e5981610cb6565b9350606087013592506080870135915060a087013567ffffffffffffffff811115610e8357600080fd5b610e8f89828a01610cc7565b9150509295509295509295565b600080600060608486031215610eb157600080fd5b610eba84610b17565b9250610ec860208501610b66565b91506040840135610ed881610cb6565b809150509250925092565b600060208284031215610ef557600080fd5b5035919050565b60008060408385031215610f0f57600080fd5b610f1883610b66565b9150602083013567ffffffffffffffff811115610f3457600080fd5b610f4085828601610cc7565b9150509250929050565b634e487b7160e01b600052601160045260246000fd5b600061ffff808316818103610f7757610f77610f4a565b6001019392505050565b600060208284031215610f9357600080fd5b8151610b9381610cb6565b60008219821115610fb157610fb1610f4a565b500190565b600082821015610fc857610fc8610f4a565b500390565b6000816000190483118215151615610fe757610fe7610f4a565b500290565b60008261100957634e487b7160e01b600052601260045260246000fd5b50049056fea2646970667358221220d0d4bf7ce2f40eed6dc9385a34c5701e094a596e4cb6d8355f305627a866fdb964736f6c634300080f0033",
  "deployedBytecode": "0x6080604052600436106100a75760003560e01c80636ed71ede116100645780636ed71ede146102d95780637afae395146103075780637c38d0ad1461031d57806390e9097a1461033d57806391a247e21461035d578063abbb0c3c1461037357600080fd5b8063060d8397146100ac578063207fd126146100e9578063284f43021461010b5780633723b7a31461022b578063437e55401461024c5780636c3fbc341461026c575b600080fd5b3480156100b857600080fd5b506004546100cc906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b3480156100f557600080fd5b50610109610104366004610b33565b610393565b005b34801561011757600080fd5b5061021e610126366004610b78565b6040805161014081018252600080825260208201819052918101829052606081018290526080810182905260a0810182905260c0810182905260e0810182905261010081018290526101208101919091525061ffff90811660009081526001602081815260409283902083516101408101855281546001600160a01b03908116825293820154841692810192909252600281015483169382019390935260038301548083166060830152600160a01b810485166080830152600160b01b8104851660a0830152600160c01b900490931660c084015260048201541660e083015260058101546101008301526006015461012082015290565b6040516100e09190610b9a565b61023e610239366004610d54565b6104f3565b6040519081526020016100e0565b34801561025857600080fd5b5061023e610267366004610e19565b6106ee565b34801561027857600080fd5b5061028c610287366004610e9c565b610919565b6040516100e09190600060a08201905082518252602083015160208301526040830151151560408301526001600160801b0360608401511660608301526080830151608083015292915050565b3480156102e557600080fd5b506000546102f49061ffff1681565b60405161ffff90911681526020016100e0565b34801561031357600080fd5b5061023e60035481565b34801561032957600080fd5b50610109610338366004610ee3565b600355565b34801561034957600080fd5b50610109610358366004610efc565b6109d8565b34801561036957600080fd5b5061023e60025481565b34801561037f57600080fd5b5061010961038e366004610ee3565b600255565b6040805161014081018252600080825260208083018281526001600160a01b03878116858701908152878216606087019081526080870186815260a0880187815260c0890188815260e08a018981526101008b018a81526101208c018b81528b5461ffff9081168d5260019b8c90529d8c209c518d54908a166001600160a01b0319918216178e5599519a8d0180549b8a169b8b169b909b17909a55955160028c018054918916918a16919091179055935160038b0180549451935192518d16600160c01b0261ffff60c01b19938e16600160b01b029390931663ffffffff60b01b19948e16600160a01b026001600160b01b0319909616928916929092179490941792909216919091171790555160048701805491909316931692909217905551600584015551600690920191909155805490911690806104d483610f60565b91906101000a81548161ffff021916908361ffff160217905550505050565b60408201516000901561059a57825161ffff166000908152600160205260409081902060030154606085015191516323b872dd60e01b815233600482015230602482015260448101929092526001600160a01b0316906323b872dd906064016020604051808303816000875af1158015610571573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105959190610f81565b61062f565b825161ffff166000908152600160205260409081902060020154606085015191516323b872dd60e01b815233600482015230602482015260448101929092526001600160a01b0316906323b872dd906064016020604051808303816000875af115801561060b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061062f9190610f81565b506001600160a01b0384166000908152600560209081526040808320865161ffff16845282528083208683015115158452909152812060025460018201805492939192909190610680908490610f9e565b9091555050604084015160028201805460ff19169115159190911790556060840151815482906000906106b4908490610f9e565b90915550506002908101805470ffffffffffffffffffffffffffffffff001916610100436001600160801b03160217905554949350505050565b6001600160a01b038616600090815260056020908152604080832061ffff89168452825280832087151584529091528120600281015460ff16156107c15761ffff8716600090815260016020526040908190206003908101549054915163a9059cbb60e01b81526001600160a01b038b81166004830152602482019390935291169063a9059cbb906044016020604051808303816000875af1158015610798573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107bc9190610f81565b610850565b61ffff87166000908152600160205260409081902060020154600354915163a9059cbb60e01b81526001600160a01b038b81166004830152602482019390935291169063a9059cbb906044016020604051808303816000875af115801561082c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108509190610f81565b50848160010154036108bc576001600160a01b038816600090815260056020908152604080832061ffff8b1684528252808320891515845290915281208181556001810182905560028101805470ffffffffffffffffffffffffffffffffff191690556003015561090a565b848160010160008282546108d09190610fb6565b9091555050600181015481546108e7908790610fcd565b6108f19190610fec565b8160000160008282546109049190610fb6565b90915550505b50506003549695505050505050565b6109566040518060a00160405280600081526020016000815260200160001515815260200160006001600160801b03168152602001600081525090565b506001600160a01b0392909216600090815260056020908152604080832061ffff9490941683529281528282209315158252928352819020815160a08101835281548152600182015493810193909352600281015460ff81161515928401929092526101009091046001600160801b0316606083015260030154608082015290565b61ffff828116600090815260016020818152604080842081516101408101835281546001600160a01b0390811682528286015481169482019490945260028201548416818401819052600383015480861660608401819052600160a01b82048a16608080860191909152600160b01b83048b1660a0860152600160c01b90920490991660c0840152600480850154871660e08501526005850154610100850152600690940154610120840152835494516315426c9760e01b8152938401919091526024830197909752603c60448301526064820196909652608481019390935260a483019390935291909116906315426c979060c4016020604051808303816000875af1158015610aed573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610b119190610f81565b50505050565b80356001600160a01b0381168114610b2e57600080fd5b919050565b60008060408385031215610b4657600080fd5b610b4f83610b17565b9150610b5d60208401610b17565b90509250929050565b803561ffff81168114610b2e57600080fd5b600060208284031215610b8a57600080fd5b610b9382610b66565b9392505050565b81516001600160a01b0316815261014081016020830151610bc660208401826001600160a01b03169052565b506040830151610be160408401826001600160a01b03169052565b506060830151610bfc60608401826001600160a01b03169052565b506080830151610c12608084018261ffff169052565b5060a0830151610c2860a084018261ffff169052565b5060c0830151610c3e60c084018261ffff169052565b5060e0830151610c5960e08401826001600160a01b03169052565b50610100838101519083015261012092830151929091019190915290565b634e487b7160e01b600052604160045260246000fd5b60405160c0810167ffffffffffffffff81118282101715610cb057610cb0610c77565b60405290565b8015158114610cc457600080fd5b50565b600082601f830112610cd857600080fd5b813567ffffffffffffffff80821115610cf357610cf3610c77565b604051601f8301601f19908116603f01168101908282118183101715610d1b57610d1b610c77565b81604052838152866020858801011115610d3457600080fd5b836020870160208301376000602085830101528094505050505092915050565b6000806000838503610100811215610d6b57600080fd5b610d7485610b17565b935060c0601f1982011215610d8857600080fd5b50610d91610c8d565b610d9d60208601610b66565b81526040850135610dad81610cb6565b60208201526060850135610dc081610cb6565b806040830152506080850135606082015260a0850135608082015260c085013560a08201528092505060e084013567ffffffffffffffff811115610e0357600080fd5b610e0f86828701610cc7565b9150509250925092565b60008060008060008060c08789031215610e3257600080fd5b610e3b87610b17565b9550610e4960208801610b66565b94506040870135610e5981610cb6565b9350606087013592506080870135915060a087013567ffffffffffffffff811115610e8357600080fd5b610e8f89828a01610cc7565b9150509295509295509295565b600080600060608486031215610eb157600080fd5b610eba84610b17565b9250610ec860208501610b66565b91506040840135610ed881610cb6565b809150509250925092565b600060208284031215610ef557600080fd5b5035919050565b60008060408385031215610f0f57600080fd5b610f1883610b66565b9150602083013567ffffffffffffffff811115610f3457600080fd5b610f4085828601610cc7565b9150509250929050565b634e487b7160e01b600052601160045260246000fd5b600061ffff808316818103610f7757610f77610f4a565b6001019392505050565b600060208284031215610f9357600080fd5b8151610b9381610cb6565b60008219821115610fb157610fb1610f4a565b500190565b600082821015610fc857610fc8610f4a565b500390565b6000816000190483118215151615610fe757610fe7610f4a565b500290565b60008261100957634e487b7160e01b600052601260045260246000fd5b50049056fea2646970667358221220d0d4bf7ce2f40eed6dc9385a34c5701e094a596e4cb6d8355f305627a866fdb964736f6c634300080f0033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
